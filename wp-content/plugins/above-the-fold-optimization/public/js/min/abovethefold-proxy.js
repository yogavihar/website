Abtf[0](function(e,r){var t,n,f=!1,i=!1,o=!1,u=!1,a=!1,s=!1,c=!1,h=!1,p=[],l=[],d=[],v={},b=[];r[27]=function(e){if(void 0===r)var r=!1;if(t=e[0]||r,f=e[1]||!1,i=e[2]||!1,(o=e[9]||!1)&&b.push(o),u=e[5]||!1,a=e[6]||!1,s=e[7]||!1,c=e[8]||!1,e[3]){h=!0;for(m=0;m<e[3].length;m++)"regex"===e[3][m][0]?(d.push([e[3][m][2],e[3][m][3],e[3][m][1]]),e[3][m][4]&&(v[e[3][m][0]]=e[3][m][4],-1===b.indexOf(e[3][m][4])&&b.push(e[3][m][4]))):(p.push(e[3][m][0]),l.push(e[3][m][1]),e[3][m][4]&&(v[e[3][m][0]]=e[3][m][4],-1===b.indexOf(e[3][m][4])&&b.push(e[3][m][4])));n=e[4]||!1}if(0===b.length)b=!1;else for(var O=b.length,m=0;m<O;m++)b[m]=j(b[m])};var O={Element:"undefined"!=typeof Element&&Element,Document:"undefined"!=typeof Document&&Document},m={append:{},insert:{}};for(var y in O)O.hasOwnProperty(y)&&O[y]&&(m.append[y]=O[y].prototype.appendChild,m.insert[y]=O[y].prototype.insertBefore);var g=document.createElement("a");g.href=document.location.href;var j=function(e){var r=document.createElement("a");return r.href=e,r},x=function(e,r){return"css"===r?t.replace("{PROXY:URL}",escape(e)).replace("{PROXY:TYPE}",escape(r)):"js"===r?t.replace("{PROXY:URL}",escape(e)).replace("{PROXY:TYPE}",escape(r)):void 0},P=function(e,t){if(h){var f=p.indexOf(e);if(f>-1)var i=l[f];else if(d.length>0)for(var o,u,a=d.length,s=0;s<a;s++){u=!1;try{o=new RegExp(d[s][0],d[s][1]||"")}catch(e){u=!0}if(!u&&o.test(e)){d[s][2]?i=d[s][2]:d[s][3]&&(e=d[s][3]);break}}if(i){if(void 0!==v[e])c=v[e];else var c=n;c+=i.substr(0,2)+"/",c+=i.substr(2,2)+"/",c+=i.substr(4,2)+"/",c+=i;if("js"===t){if(c+=".js",void 0!==r[24]){var b=j(c).href;c=r[24](b)}}else"css"===t&&(c+=".css");return c}}if("js"===t&&void 0!==r[24]){var O=j(e).href;if((e=r[24](O))!==O)return e}return x(e,t)},C=function(e,r){var t="object"==typeof e&&void 0!==e.href?e:j(e);if("blob:"===t.protocol)return!1;if(b&&!0!==r)for(var n=b.length,f=0;f<n;f++)if(-1!==t.href.indexOf(b[f].href))return!1;return t.host!==g.host},E=function(e){var r="object"==typeof e&&void 0!==e.href?e:j(e);if("blob:"===r.protocol)return!0;if(u){for(var t=!1,n=u.length,f=0;f<n;f++)if(-1!==r.href.indexOf(u[f])){t=!0;break}if(!t)return!0}if(a)for(var n=a.length,f=0;f<n;f++)if(-1!==r.href.indexOf(a[f]))return!0;return!1},R=function(e){var r="object"==typeof e&&void 0!==e.href?e:j(e);if("blob:"===r.protocol)return!1;if(b)for(var t=b.length,n=0;n<t;n++)if(-1!==r.href.indexOf(b[n].href))return!1;return r.host!==g.host},Y=function(e){var r="object"==typeof e&&void 0!==e.href?e:j(e);if("blob:"===r.protocol)return!0;if(s){for(var t=!1,n=s.length,f=0;f<n;f++)if(-1!==r.href.indexOf(s[f])){t=!0;break}if(!t)return!0}if(c)for(var n=c.length,f=0;f<n;f++)if(-1!==r.href.indexOf(c[f]))return!0;return!1},w=function(e){if(e.nodeName)if("SCRIPT"===e.nodeName.toUpperCase()){if(!f)return!1;if(e.hasAttribute("data-abtf"))return!1;if(e.src){t=j(e.src);if(E(t))return!1;if(!C(t)){if(void 0!==r[24]){if("blob:"===t.protocol)return!1;url=r[24](t.href),url!==t.href&&(e.src=url)}return!1}return"js"}}else if("LINK"===e.nodeName.toUpperCase()&&"stylesheet"===e.rel.toLowerCase()){if(!i)return!1;if(e.hasAttribute("data-abtf"))return!1;if(e.href){var t=j(e.href);return!Y(t)&&(!!R(t)&&"css")}}return!1},B=function(e){var r=w(e);if(!r)return!1;var t=j("css"===r?e.href:e.src).href,n=P(t,r);"css"===r?e.href=n:"js"===r&&(e.src=n)},L={appendChild:function(e,r){return B(r),m.append[e].call(this,r)},insertBefore:function(e,r,t){return B(r),m.insert[e].call(this,r,t)}};for(var y in O)O.hasOwnProperty(y)&&O[y]&&function(e){O[e].prototype.appendChild=function(r){return L.appendChild.call(this,e,r)},O[e].prototype.insertBefore=function(r,t){return L.insertBefore.call(this,e,r,t)}}(y);r[28]=function(e){return C(e,!0)?x(e,"js"):e}});